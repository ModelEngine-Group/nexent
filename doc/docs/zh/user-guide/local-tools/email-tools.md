---
title: 邮件工具
---

# 邮件工具

邮件工具组支持收取与发送邮件，适合在智能体中获取通知或发送结果汇报。

## 🧭 工具清单

- `get_email`：按时间范围、发件人获取邮件，限制返回数量
- `send_email`：发送 HTML 格式邮件，支持多收件人、抄送、密送

## 🧰 使用场景示例

- 周期性抓取近 7 天内的通知邮件，供后续摘要或分析
- 发送执行结果到指定收件人并抄送团队成员
- 针对特定发件人（如监控账户）筛选告警邮件

## 🧾 参数要求与行为

### get_email
- `days`：获取过去 N 天邮件，默认 7。
- `sender`：按邮箱地址过滤发件人，可选。
- `max_emails`：最大返回邮件数，默认 10。
- 需要提供 IMAP 服务器地址、端口、用户名、密码；支持 SSL。
- 返回邮件主题、时间、发件人、正文摘要等 JSON 信息。

### send_email
- `to`：收件人列表，使用逗号分隔。
- `subject`：邮件主题。
- `content`：邮件正文，支持 HTML。
- `cc`、`bcc`：抄送/密送列表，逗号分隔，可选。
- 需要提供 SMTP 服务器地址、端口、用户名、密码；可设置发件人展示名与 SSL。
- 返回发送状态、主题、收件人信息。

## 🛠️ 操作指引

1. **获取邮箱配置**：准备 IMAP/SMTP 地址、端口、账号密码，确认是否启用 SSL。
2. **收取邮件**：调用 `get_email`，按需设置 `days`、`sender`、`max_emails`。若需更窄范围，先测试少量结果。
3. **发送邮件**：调用 `send_email`，填写收件人、主题与 HTML 正文；如需抄送/密送可添加 `cc`/`bcc`。
4. **内容处理**：收取的邮件正文可再结合模型做摘要或提取关键信息。

## 🛡️ 安全与最佳实践

- 邮箱账号请使用专用的应用密码或受限账号，避免暴露主密码。
- 控制 `max_emails` 防止一次抓取过多数据。
- 发送前检查收件人列表，避免误发；生产环境可限制允许的域名。

## 📮 常见邮箱配置

> 建议使用各邮箱的“应用专用密码”并在邮箱设置中启用 IMAP/SMTP。端口号为行业常用值，若服务商有最新要求请以官方文档为准。

- QQ 邮箱：IMAP `imap.qq.com:993`（SSL），SMTP `smtp.qq.com:465`（SSL）；需要在 QQ 邮箱中开启“IMAP/SMTP 服务”并申请授权码。
- Gmail：IMAP `imap.gmail.com:993`，SMTP `smtp.gmail.com:465`（SSL）或 `587`（STARTTLS）；需要开启 IMAP 并使用应用密码（建议关闭不安全访问）。
- Outlook（Microsoft 365 / Hotmail）：IMAP `outlook.office365.com:993`，SMTP `smtp.office365.com:587`（STARTTLS）；企业租户可能要求现代认证或应用密码。
- 163 邮箱：IMAP `imap.163.com:993`（SSL），SMTP `smtp.163.com:465`（SSL）；需在邮箱设置里开启“客户端授权密码/安全密码”。

