---
title: 文件工具
---

# 文件工具

文件工具组提供在工作空间内安全、受限的文件与目录操作，所有路径都必须是相对于工作空间的相对路径，默认工作空间根目录为 `/mnt/nexent`。

## 🧭 工具清单

- `create_directory`：创建目录（自动创建父级，支持权限设置）
- `create_file`：创建文件并写入内容（自动创建父级）
- `read_file`：读取文件内容与元信息
- `list_directory`：以树形列出目录结构
- `move_item`：移动文件或目录到新位置（防止覆盖）
- `delete_file`：删除单个文件（不可恢复）
- `delete_directory`：递归删除目录及其内容（不可恢复）

## 🧰 使用场景示例

- 初始化项目目录、生成配置文件
- 查看日志、检查文件大小或行数
- 列出工作空间结构，确认文件位置
- 批量迁移文件到备份目录
- 清理无用文件或临时目录

## 🧾 参数要求与行为

### 通用限制
- 路径必须在工作空间内，禁止越界访问绝对路径。
- 删除与移动操作不可恢复，请谨慎使用。

### 关键参数
- `directory_path` / `file_path` / `source_path` / `destination_path`：相对路径，必填。
- `permissions`（create_directory）：八进制权限字符串，默认 `755`。
- `encoding`（create_file / read_file）：文件编码，默认 `utf-8`。
- `max_depth`、`show_hidden`、`show_size`（list_directory）：控制目录树展示深度、是否显示隐藏文件、是否显示大小。

### 返回结果
- 成功时返回 JSON，包含相对/绝对路径、大小、是否已存在等信息。
- 失败时返回明确的错误原因（路径越界、目标已存在、权限问题等）。

## 🛠️ 操作指引

1. **创建**：使用 `create_directory` 或 `create_file`，传入相对路径；需要自定义权限或编码时显式填写。
2. **查看**：使用 `list_directory` 浏览结构；用 `read_file` 获取内容和元数据。
3. **移动**：用 `move_item` 将文件/目录迁移到新位置，若目标已存在会中断以避免覆盖。
4. **删除**：用 `delete_file` 或 `delete_directory` 清理资源，操作不可恢复，请先确认路径。

## 🛡️ 安全与最佳实践

- 仅在工作空间内操作，避免绝对路径或 `..` 越界。
- 删除前可先 `list_directory` 或 `read_file` 确认目标。
- 大文件读取会给出提示，必要时分块处理或避免一次性读取超大文件。

